<!DOCTYPE html>
<html ng-app="MyFirstApp">
    <head>
        <meta charset="utf-8">
        <title>Primer Proyecto</title>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-route.js"></script>
        <script src="controller.js" type="text/javascript"></script>
        <style >
            body{
                background-color: aquamarine;
                font-size:x-large;
            }
            table{
                margin: auto auto;
            }
        </style>
    </head> 
    <body ng-controller="UsuariosController">
    <table>
        <tr>
            <td colspan="2" style="text-align:center"><h1>CRUDS</h1></td>
        </tr>
        <tr>
            <td>
                
                    <a style='cursor:pointer;' onclick="muestra_oculta('crear')">Crear</a>
            </td>
            <td>
                
                    <a style='cursor: pointer;'  onclick="muestra_oculta('leer')" title="">Leer</a> 
                
            </td>
        </tr>
    </table>


    <div id="crear" style="display: none">
        <p>Nombre:
                <input type="text" ng-model="nuevoUsuario.nombre" size="40"></p>
                <p>Correo:
                <input type="email" ng-model="nuevoUsuario.correo" size="30"></p>
                <p>Division:
                    <select name="menu" ng-model="nuevoUsuario.division">
                            <option value="0">...</option>
                            <option value="DID">Departamento Investigación y Desarrollo</option>
                            <option value="DSA">Departamento de Servicios Académicos</option>
                            <option value="DSC">Departamento de Seguridad Cibernética</option>
                        </select></p>
                <input type="hidden" ng-model=nuevoUsuario.id>
               <button ng-click="agregarUsuario()">Enviar</button>
                
    </div>
    
    <div id="leer" style="display: none">
        <table style="width: 100%">
            <tr>
                <td style="width: 30%">
                    Nombre
                </td>
                <td style="width: 30%">
                    Correo
                </td>
                <td style="width: 30%">
                    Division
                </td>
                <td colspan="2" style="width: 10%"></td>
            </tr>
            <tr ng-repeat="usuario in usuarios">
                <td style="width: 30%">
                    {{usuario.nombre}}
                </td>
                <td style="width: 30%">
                    {{usuario.correo}}
                </td>
                <td style="width: 30%">
                    {{usuario.division}}
                </td>
                <td style="width:  5%"><a href="#" style='cursor:pointer;' onclick="muestra_oculta('crear')" ng-click="editarUsuario(usuario.id)">
                    Editar
                </a></td>
                <td style="width:  5%"><a href="#" ng-click="eliminarUsuario(usuario.id)">
                    Borrar
                </a></td>
            </tr>
        </table>
       
    </div>

    <script>
        function muestra_oculta(id){
            if (document.getElementById){ 
            var el = document.getElementById(id); 
            el.style.display = (el.style.display == 'none') ? 'block' : 'none'; 
            }
            }
            window.onload = function(){
            muestra_oculta('contenido');
            }
    </script>
    </body>
</html>